<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monero: cryptonote::listener::zmq_pub Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Monero
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../df/d43/namespacecryptonote.html">cryptonote</a></li><li class="navelem"><a class="el" href="../../d9/db6/namespacecryptonote_1_1listener.html">listener</a></li><li class="navelem"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../db/d22/classcryptonote_1_1listener_1_1zmq__pub-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cryptonote::listener::zmq_pub Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Sends ZMQ PUB messages on cryptonote events.  
 <a href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../db/d71/zmq__pub_8h_source.html">zmq_pub.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da9/structcryptonote_1_1listener_1_1zmq__pub_1_1chain__main.html">chain_main</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callable for <code>send_chain_main</code> with weak ownership to <code><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html" title="Sends ZMQ PUB messages on cryptonote events. ">zmq_pub</a></code> object.  <a href="../../de/da9/structcryptonote_1_1listener_1_1zmq__pub_1_1chain__main.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dbe/structcryptonote_1_1listener_1_1zmq__pub_1_1miner__data.html">miner_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callable for <code>send_miner_data</code> with weak ownership to <code><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html" title="Sends ZMQ PUB messages on cryptonote events. ">zmq_pub</a></code> object.  <a href="../../d6/dbe/structcryptonote_1_1listener_1_1zmq__pub_1_1miner__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d97/structcryptonote_1_1listener_1_1zmq__pub_1_1txpool__add.html">txpool_add</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callable for <code>send_txpool_add</code> with weak ownership to <code><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html" title="Sends ZMQ PUB messages on cryptonote events. ">zmq_pub</a></code> object.  <a href="../../d6/d97/structcryptonote_1_1listener_1_1zmq__pub_1_1txpool__add.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acb0b5bde588dab1e48835adea21f1367"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#acb0b5bde588dab1e48835adea21f1367">zmq_pub</a> (void *context)</td></tr>
<tr class="separator:acb0b5bde588dab1e48835adea21f1367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2022f90c5e12786c7afd15af16bef871"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a2022f90c5e12786c7afd15af16bef871">zmq_pub</a> (<a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;)=delete</td></tr>
<tr class="separator:a2022f90c5e12786c7afd15af16bef871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38fe274603a9c39b08b48e6c1c620683"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a38fe274603a9c39b08b48e6c1c620683">zmq_pub</a> (<a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a38fe274603a9c39b08b48e6c1c620683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55eaae3518c5dc83cd7a816cc3f15168"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a55eaae3518c5dc83cd7a816cc3f15168">~zmq_pub</a> ()</td></tr>
<tr class="separator:a55eaae3518c5dc83cd7a816cc3f15168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac582865e91565a3e16d9bb33978cd326"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#ac582865e91565a3e16d9bb33978cd326">operator=</a> (<a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;)=delete</td></tr>
<tr class="separator:ac582865e91565a3e16d9bb33978cd326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f7a2d97b896d72fd7b62890299f7729"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a6f7a2d97b896d72fd7b62890299f7729">operator=</a> (<a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a6f7a2d97b896d72fd7b62890299f7729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78e54cc5e954b9fb995856d4b412fe3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d5e/stdbool_8h.html#a1062901a7428fdd9c7f180f5e01ea056">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#ae78e54cc5e954b9fb995856d4b412fe3">sub_request</a> (<a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> boost::string_ref message)</td></tr>
<tr class="memdesc:ae78e54cc5e954b9fb995856d4b412fe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a client subscription request (from XPUB sockets). Thread-safe.  <a href="#ae78e54cc5e954b9fb995856d4b412fe3">More...</a><br /></td></tr>
<tr class="separator:ae78e54cc5e954b9fb995856d4b412fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa471877c06f14a10b108b7c63e64a49b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d5e/stdbool_8h.html#a1062901a7428fdd9c7f180f5e01ea056">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#aa471877c06f14a10b108b7c63e64a49b">relay_to_pub</a> (void *relay, void *pub)</td></tr>
<tr class="separator:aa471877c06f14a10b108b7c63e64a49b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb1e7d129b4bd0c91c1a90aa4a10f926"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#aeb1e7d129b4bd0c91c1a90aa4a10f926">send_chain_main</a> (<a class="el" href="../../df/dd8/stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">std::uint64_t</a> height, <a class="el" href="../../d0/d87/classepee_1_1span.html">epee::span</a>&lt; <a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d2f/structcryptonote_1_1block.html">cryptonote::block</a> &gt; <a class="el" href="../../d4/d89/sha512-hash_8c.html#ac4149c53eb38ba392a888d9a333a4412">blocks</a>)</td></tr>
<tr class="separator:aeb1e7d129b4bd0c91c1a90aa4a10f926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5907c01883896ffcf9b2ab277bde97d4"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a5907c01883896ffcf9b2ab277bde97d4">send_miner_data</a> (<a class="el" href="../../df/dd8/stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> major_version, <a class="el" href="../../df/dd8/stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> height, <a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d36/namespacecrypto.html#adadec1379c607896bfcf795e65fe2d91">crypto::hash</a> &amp;prev_id, <a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d36/namespacecrypto.html#adadec1379c607896bfcf795e65fe2d91">crypto::hash</a> &amp;seed_hash, <a class="el" href="../../df/d43/namespacecryptonote.html#a1777f792339574188e75fec576b948a5">difficulty_type</a> diff, <a class="el" href="../../df/dd8/stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> median_weight, <a class="el" href="../../df/dd8/stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> already_generated_coins, <a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d3/d95/structcryptonote_1_1tx__block__template__backlog__entry.html">tx_block_template_backlog_entry</a> &gt; &amp;tx_backlog)</td></tr>
<tr class="separator:a5907c01883896ffcf9b2ab277bde97d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d4768bd612adf786efbbc23cf79261"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#ac8d4768bd612adf786efbbc23cf79261">send_txpool_add</a> (std::vector&lt; <a class="el" href="../../d3/d56/structcryptonote_1_1txpool__event.html">cryptonote::txpool_event</a> &gt; txes)</td></tr>
<tr class="separator:ac8d4768bd612adf786efbbc23cf79261"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a6dec2b4f7b61e2c74eea5260706e6073"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a6dec2b4f7b61e2c74eea5260706e6073">relay_endpoint</a> () noexcept</td></tr>
<tr class="separator:a6dec2b4f7b61e2c74eea5260706e6073"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:acf11a2097387870636d2830becbead92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db0/namespacenet_1_1zmq.html#a71e7aacda9e1e30db654215a1146e0fc">net::zmq::socket</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#acf11a2097387870636d2830becbead92">relay_</a></td></tr>
<tr class="separator:acf11a2097387870636d2830becbead92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a062110caf9882ce44c9693db4c999417"><td class="memItemLeft" align="right" valign="top">std::deque&lt; std::vector&lt; <a class="el" href="../../d3/d56/structcryptonote_1_1txpool__event.html">txpool_event</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a062110caf9882ce44c9693db4c999417">txes_</a></td></tr>
<tr class="separator:a062110caf9882ce44c9693db4c999417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a54a1f6253f75ae098797f995222f47"><td class="memItemLeft" align="right" valign="top">std::array&lt; std::size_t, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a3a54a1f6253f75ae098797f995222f47">chain_subs_</a></td></tr>
<tr class="separator:a3a54a1f6253f75ae098797f995222f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036e245aad0149d598b184296489617a"><td class="memItemLeft" align="right" valign="top">std::array&lt; std::size_t, 1 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a036e245aad0149d598b184296489617a">miner_subs_</a></td></tr>
<tr class="separator:a036e245aad0149d598b184296489617a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8feeaff2ff448a5bdc1cf9ef017b5a3f"><td class="memItemLeft" align="right" valign="top">std::array&lt; std::size_t, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a8feeaff2ff448a5bdc1cf9ef017b5a3f">txpool_subs_</a></td></tr>
<tr class="separator:a8feeaff2ff448a5bdc1cf9ef017b5a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234ab00abdc5348738be4fcf775de1fb"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html#a234ab00abdc5348738be4fcf775de1fb">sync_</a></td></tr>
<tr class="memdesc:a234ab00abdc5348738be4fcf775de1fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronizes counts in <code>*_subs_</code> arrays.  <a href="#a234ab00abdc5348738be4fcf775de1fb">More...</a><br /></td></tr>
<tr class="separator:a234ab00abdc5348738be4fcf775de1fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sends ZMQ PUB messages on cryptonote events. </p>
<p>Clients must ensure that all transaction(s) are notified before any blocks they are contained in, and must ensure that each block is notified in chain order. An external lock <b>must</b> be held by clients during the entire txpool check and notification sequence and (a possibly second) lock is held during the entire block check and notification sequence. Otherwise, events could be sent in a different order than processed. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acb0b5bde588dab1e48835adea21f1367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb0b5bde588dab1e48835adea21f1367">&#9670;&nbsp;</a></span>zmq_pub() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cryptonote::listener::zmq_pub::zmq_pub </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2022f90c5e12786c7afd15af16bef871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2022f90c5e12786c7afd15af16bef871">&#9670;&nbsp;</a></span>zmq_pub() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cryptonote::listener::zmq_pub::zmq_pub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a38fe274603a9c39b08b48e6c1c620683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38fe274603a9c39b08b48e6c1c620683">&#9670;&nbsp;</a></span>zmq_pub() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cryptonote::listener::zmq_pub::zmq_pub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a55eaae3518c5dc83cd7a816cc3f15168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55eaae3518c5dc83cd7a816cc3f15168">&#9670;&nbsp;</a></span>~zmq_pub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cryptonote::listener::zmq_pub::~zmq_pub </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac582865e91565a3e16d9bb33978cd326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac582865e91565a3e16d9bb33978cd326">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a>&amp; cryptonote::listener::zmq_pub::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6f7a2d97b896d72fd7b62890299f7729"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f7a2d97b896d72fd7b62890299f7729">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a>&amp; cryptonote::listener::zmq_pub::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d88/classcryptonote_1_1listener_1_1zmq__pub.html">zmq_pub</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6dec2b4f7b61e2c74eea5260706e6073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dec2b4f7b61e2c74eea5260706e6073">&#9670;&nbsp;</a></span>relay_endpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr <a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char* cryptonote::listener::zmq_pub::relay_endpoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Name of ZMQ_PAIR endpoint for pub notifications </dd></dl>

</div>
</div>
<a id="aa471877c06f14a10b108b7c63e64a49b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa471877c06f14a10b108b7c63e64a49b">&#9670;&nbsp;</a></span>relay_to_pub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d5e/stdbool_8h.html#a1062901a7428fdd9c7f180f5e01ea056">bool</a> cryptonote::listener::zmq_pub::relay_to_pub </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>relay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pub</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Forward ZMQ messages sent to <code>relay</code> via <code>send_chain_main</code> or <code>send_txpool_add</code> to <code>pub</code>. Used by <code>ZmqServer</code>. </p>

</div>
</div>
<a id="aeb1e7d129b4bd0c91c1a90aa4a10f926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb1e7d129b4bd0c91c1a90aa4a10f926">&#9670;&nbsp;</a></span>send_chain_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t cryptonote::listener::zmq_pub::send_chain_main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/dd8/stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">std::uint64_t</a>&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d87/classepee_1_1span.html">epee::span</a>&lt; <a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d2f/structcryptonote_1_1block.html">cryptonote::block</a> &gt;&#160;</td>
          <td class="paramname"><em>blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a <code>ZMQ_PUB</code> notification for a change to the main chain. Thread-safe. </p><dl class="section return"><dt>Returns</dt><dd>Number of ZMQ messages sent to relay. </dd></dl>

</div>
</div>
<a id="a5907c01883896ffcf9b2ab277bde97d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5907c01883896ffcf9b2ab277bde97d4">&#9670;&nbsp;</a></span>send_miner_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t cryptonote::listener::zmq_pub::send_miner_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/dd8/stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>major_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dd8/stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d36/namespacecrypto.html#adadec1379c607896bfcf795e65fe2d91">crypto::hash</a> &amp;&#160;</td>
          <td class="paramname"><em>prev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d36/namespacecrypto.html#adadec1379c607896bfcf795e65fe2d91">crypto::hash</a> &amp;&#160;</td>
          <td class="paramname"><em>seed_hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d43/namespacecryptonote.html#a1777f792339574188e75fec576b948a5">difficulty_type</a>&#160;</td>
          <td class="paramname"><em>diff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dd8/stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td>
          <td class="paramname"><em>median_weight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dd8/stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td>
          <td class="paramname"><em>already_generated_coins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d3/d95/structcryptonote_1_1tx__block__template__backlog__entry.html">tx_block_template_backlog_entry</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tx_backlog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a <code>ZMQ_PUB</code> notification for a new miner data. Thread-safe. </p><dl class="section return"><dt>Returns</dt><dd>Number of ZMQ messages sent to relay. </dd></dl>

</div>
</div>
<a id="ac8d4768bd612adf786efbbc23cf79261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d4768bd612adf786efbbc23cf79261">&#9670;&nbsp;</a></span>send_txpool_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t cryptonote::listener::zmq_pub::send_txpool_add </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d3/d56/structcryptonote_1_1txpool__event.html">cryptonote::txpool_event</a> &gt;&#160;</td>
          <td class="paramname"><em>txes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a <code>ZMQ_PUB</code> notification for new tx(es) being added to the local pool. Thread-safe. </p><dl class="section return"><dt>Returns</dt><dd>Number of ZMQ messages sent to relay. </dd></dl>

</div>
</div>
<a id="ae78e54cc5e954b9fb995856d4b412fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae78e54cc5e954b9fb995856d4b412fe3">&#9670;&nbsp;</a></span>sub_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d5e/stdbool_8h.html#a1062901a7428fdd9c7f180f5e01ea056">bool</a> cryptonote::listener::zmq_pub::sub_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d15/ipfrdr_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> boost::string_ref&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process a client subscription request (from XPUB sockets). Thread-safe. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3a54a1f6253f75ae098797f995222f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a54a1f6253f75ae098797f995222f47">&#9670;&nbsp;</a></span>chain_subs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;std::size_t, 2&gt; cryptonote::listener::zmq_pub::chain_subs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a036e245aad0149d598b184296489617a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a036e245aad0149d598b184296489617a">&#9670;&nbsp;</a></span>miner_subs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;std::size_t, 1&gt; cryptonote::listener::zmq_pub::miner_subs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acf11a2097387870636d2830becbead92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf11a2097387870636d2830becbead92">&#9670;&nbsp;</a></span>relay_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db0/namespacenet_1_1zmq.html#a71e7aacda9e1e30db654215a1146e0fc">net::zmq::socket</a> cryptonote::listener::zmq_pub::relay_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a234ab00abdc5348738be4fcf775de1fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234ab00abdc5348738be4fcf775de1fb">&#9670;&nbsp;</a></span>sync_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex cryptonote::listener::zmq_pub::sync_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Synchronizes counts in <code>*_subs_</code> arrays. </p>

</div>
</div>
<a id="a062110caf9882ce44c9693db4c999417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a062110caf9882ce44c9693db4c999417">&#9670;&nbsp;</a></span>txes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt;std::vector&lt;<a class="el" href="../../d3/d56/structcryptonote_1_1txpool__event.html">txpool_event</a>&gt; &gt; cryptonote::listener::zmq_pub::txes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8feeaff2ff448a5bdc1cf9ef017b5a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8feeaff2ff448a5bdc1cf9ef017b5a3f">&#9670;&nbsp;</a></span>txpool_subs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;std::size_t, 2&gt; cryptonote::listener::zmq_pub::txpool_subs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/rpc/<a class="el" href="../../db/d71/zmq__pub_8h_source.html">zmq_pub.h</a></li>
<li>src/rpc/<a class="el" href="../../d0/de3/zmq__pub_8cpp.html">zmq_pub.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 2 2023 19:23:37 for Monero by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
