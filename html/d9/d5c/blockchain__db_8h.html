<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monero: src/blockchain_db/blockchain_db.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Monero
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_ebea321fed579e2380fdd9fafa5a34b0.html">blockchain_db</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">blockchain_db.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string&gt;</code><br />
<code>#include &lt;exception&gt;</code><br />
<code>#include &lt;boost/program_options.hpp&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d8/dfd/command__line_8h_source.html">common/command_line.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dfb/hash_8h_source.html">crypto/hash.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/dba/blobdatatype_8h_source.html">cryptonote_basic/blobdatatype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d86/cryptonote__basic_8h_source.html">cryptonote_basic/cryptonote_basic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/dbb/difficulty_8h_source.html">cryptonote_basic/difficulty.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/df9/hardfork_8h_source.html">cryptonote_basic/hardfork.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/d9a/src_2cryptonote__protocol_2enums_8h_source.html">cryptonote_protocol/enums.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for blockchain_db.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d9d/blockchain__db_8h__incl.png" border="0" usemap="#src_2blockchain__db_2blockchain__db_8h" alt=""/></div>
<map name="src_2blockchain__db_2blockchain__db_8h" id="src_2blockchain__db_2blockchain__db_8h">
<area shape="rect" id="node5" href="../../d8/dfd/command__line_8h.html" title="common/command_line.h" alt="" coords="796,505,966,531"/>
<area shape="rect" id="node16" href="../../db/dfb/hash_8h.html" title="crypto/hash.h" alt="" coords="2314,505,2416,531"/>
<area shape="rect" id="node25" href="../../dd/dba/blobdatatype_8h.html" title="cryptonote_basic/blobdatatype.h" alt="" coords="45,594,256,621"/>
<area shape="rect" id="node27" href="../../d8/d86/cryptonote__basic_8h.html" title="cryptonote_basic/cryptonote\l_basic.h" alt="" coords="1616,155,1802,196"/>
<area shape="rect" id="node45" href="../../de/dbb/difficulty_8h.html" title="cryptonote_basic/difficulty.h" alt="" coords="310,415,495,442"/>
<area shape="rect" id="node47" href="../../d5/df9/hardfork_8h.html" title="cryptonote_basic/hardfork.h" alt="" coords="1859,80,2042,107"/>
<area shape="rect" id="node50" href="../../da/d9a/src_2cryptonote__protocol_2enums_8h.html" title="cryptonote_protocol\l/enums.h" alt="" coords="594,155,730,196"/>
<area shape="rect" id="node14" href="../../d5/dcc/include__base__utils_8h.html" title="include_base_utils.h" alt="" coords="1135,594,1275,621"/>
<area shape="rect" id="node15" href="../../df/d9e/misc__log__ex_8h.html" title="misc_log_ex.h" alt="" coords="2210,683,2317,710"/>
<area shape="rect" id="node18" href="../../db/d68/pod-class_8h.html" title="common/pod&#45;class.h" alt="" coords="2184,594,2327,621"/>
<area shape="rect" id="node19" href="../../d3/d3f/generic-ops_8h.html" title="generic&#45;ops.h" alt="" coords="2060,594,2160,621"/>
<area shape="rect" id="node21" href="../../d0/d84/hex_8h.html" title="hex.h" alt="" coords="1642,594,1696,621"/>
<area shape="rect" id="node23" href="../../d4/d7a/span_8h.html" title="span.h" alt="" coords="1500,683,1561,710"/>
<area shape="rect" id="node24" href="../../dc/dce/hash-ops_8h.html" title="hash&#45;ops.h" alt="" coords="2574,594,2660,621"/>
<area shape="rect" id="node32" href="../../d6/d10/variant_8h.html" title="for dealing with variants " alt="" coords="1698,505,1843,531"/>
<area shape="rect" id="node33" href="../../d5/d75/containers_8h.html" title="serialization/containers.h" alt="" coords="1098,415,1264,442"/>
<area shape="rect" id="node34" href="../../d1/da9/binary__archive_8h.html" title="serialization/binary\l_archive.h" alt="" coords="1340,408,1470,449"/>
<area shape="rect" id="node35" href="../../d9/d8d/json__archive_8h.html" title="JSON archive. " alt="" coords="1867,497,1986,539"/>
<area shape="rect" id="node36" href="../../d9/d57/debug__archive_8h.html" title="serialization/debug\l_archive.h" alt="" coords="1849,408,1980,449"/>
<area shape="rect" id="node37" href="../../dd/d1a/serialization_2crypto_8h.html" title="serialization/crypto.h" alt="" coords="2054,333,2196,360"/>
<area shape="rect" id="node38" href="../../db/d84/crypto_2crypto_8h.html" title="crypto/crypto.h" alt="" coords="2070,415,2180,442"/>
<area shape="rect" id="node39" href="../../d8/d5a/keyvalue__serialization_8h.html" title="serialization/keyvalue\l_serialization.h" alt="" coords="2402,587,2549,628"/>
<area shape="rect" id="node40" href="../../d0/da5/cryptonote__config_8h.html" title="cryptonote_config.h" alt="" coords="1181,333,1317,360"/>
<area shape="rect" id="node41" href="../../d1/dfc/misc__language_8h.html" title="misc_language.h" alt="" coords="1017,333,1137,360"/>
<area shape="rect" id="node42" href="../../d0/d1d/rctTypes_8h.html" title="ringct/rctTypes.h" alt="" coords="1500,333,1620,360"/>
<area shape="rect" id="node43" href="../../d5/d08/device_8hpp.html" title="device/device.hpp" alt="" coords="1443,251,1570,278"/>
<area shape="rect" id="node44" href="../../d1/d8f/src_2cryptonote__basic_2fwd_8h.html" title="cryptonote_basic/fwd.h" alt="" coords="2200,251,2357,278"/>
<area shape="rect" id="node48" href="../../d6/ded/syncobj_8h.html" title="syncobj.h" alt="" coords="2047,162,2126,189"/>
<area shape="rect" id="node49" href="../../d7/d3e/hardforks_8h.html" title="hardforks/hardforks.h" alt="" coords="1878,162,2023,189"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/de2/blockchain__db_8h__dep__incl.png" border="0" usemap="#src_2blockchain__db_2blockchain__db_8hdep" alt=""/></div>
<map name="src_2blockchain__db_2blockchain__db_8hdep" id="src_2blockchain__db_2blockchain__db_8hdep">
<area shape="rect" id="node2" href="../../d8/df8/src_2blockchain__db_2blockchain__db_8cpp.html" title="src/blockchain_db/blockchain\l_db.cpp" alt="" coords="268,177,461,218"/>
<area shape="rect" id="node3" href="../../d7/d1c/db__lmdb_8h.html" title="src/blockchain_db/lmdb\l/db_lmdb.h" alt="" coords="715,80,873,121"/>
<area shape="rect" id="node5" href="../../d2/d00/blockchain__prune_8cpp.html" title="src/blockchain_utilities\l/blockchain_prune.cpp" alt="" coords="615,281,770,322"/>
<area shape="rect" id="node7" href="../../d2/dd2/tests_2unit__tests_2blockchain__db_8cpp.html" title="tests/unit_tests/blockchain\l_db.cpp" alt="" coords="486,177,665,218"/>
<area shape="rect" id="node8" href="../../d7/d2f/testdb_8h.html" title="src/blockchain_db/testdb.h" alt="" coords="1075,184,1254,211"/>
<area shape="rect" id="node10" href="../../d3/dd8/chaingen_8cpp.html" title="tests/core_tests/chaingen.cpp" alt="" coords="218,288,415,315"/>
<area shape="rect" id="node11" href="../../d7/db0/tests_2unit__tests_2hardfork_8cpp.html" title="tests/unit_tests/hardfork.cpp" alt="" coords="5,288,193,315"/>
<area shape="rect" id="node13" href="../../da/d46/output__distribution_8cpp.html" title="tests/unit_tests/output\l_distribution.cpp" alt="" coords="439,281,591,322"/>
<area shape="rect" id="node15" href="../../da/d8b/blockchain__ancestry_8cpp.html" title="src/blockchain_utilities\l/blockchain_ancestry.cpp" alt="" coords="1317,281,1487,322"/>
<area shape="rect" id="node16" href="../../dd/dab/blockchain__blackball_8cpp.html" title="src/blockchain_utilities\l/blockchain_blackball.cpp" alt="" coords="1511,281,1682,322"/>
<area shape="rect" id="node17" href="../../d4/d42/blockchain__depth_8cpp.html" title="src/blockchain_utilities\l/blockchain_depth.cpp" alt="" coords="4387,281,4542,322"/>
<area shape="rect" id="node18" href="../../d4/d72/blocksdat__file_8h.html" title="src/blockchain_utilities\l/blocksdat_file.h" alt="" coords="4899,177,5054,218"/>
<area shape="rect" id="node19" href="../../df/dfe/blockchain__export_8cpp.html" title="src/blockchain_utilities\l/blockchain_export.cpp" alt="" coords="4925,281,5081,322"/>
<area shape="rect" id="node21" href="../../da/d69/blockchain__prune__known__spent__data_8cpp.html" title="src/blockchain_utilities\l/blockchain_prune_known\l_spent_data.cpp" alt="" coords="4191,273,4363,329"/>
<area shape="rect" id="node22" href="../../d2/dc3/blockchain__stats_8cpp.html" title="src/blockchain_utilities\l/blockchain_stats.cpp" alt="" coords="4566,281,4721,322"/>
<area shape="rect" id="node23" href="../../d4/d6f/blockchain__usage_8cpp.html" title="src/blockchain_utilities\l/blockchain_usage.cpp" alt="" coords="3850,281,4005,322"/>
<area shape="rect" id="node24" href="../../d1/d1b/src_2cryptonote__basic_2hardfork_8cpp.html" title="src/cryptonote_basic\l/hardfork.cpp" alt="" coords="5129,80,5272,121"/>
<area shape="rect" id="node25" href="../../db/df4/src_2cryptonote__core_2tx__pool_8h.html" title="src/cryptonote_core\l/tx_pool.h" alt="" coords="2044,80,2181,121"/>
<area shape="rect" id="node26" href="../../d1/d76/blockchain_8cpp.html" title="src/cryptonote_core\l/blockchain.cpp" alt="" coords="4029,281,4167,322"/>
<area shape="rect" id="node29" href="../../d8/db3/cryptonote__core_8cpp.html" title="src/cryptonote_core\l/cryptonote_core.cpp" alt="" coords="5106,281,5250,322"/>
<area shape="rect" id="node42" href="../../d4/dca/src_2cryptonote__core_2tx__pool_8cpp.html" title="src/cryptonote_core\l/tx_pool.cpp" alt="" coords="1633,177,1771,218"/>
<area shape="rect" id="node43" href="../../de/d65/blockchain_8h.html" title="src/cryptonote_core\l/blockchain.h" alt="" coords="2612,80,2749,121"/>
<area shape="rect" id="node4" href="../../df/d77/db__lmdb_8cpp.html" title="src/blockchain_db/lmdb\l/db_lmdb.cpp" alt="" coords="689,177,848,218"/>
<area shape="rect" id="node6" href="../../da/de8/object__sizes_8cpp.html" title="src/debug_utilities\l/object_sizes.cpp" alt="" coords="1707,281,1833,322"/>
<area shape="rect" id="node9" href="../../df/d78/block__weight_8cpp.html" title="tests/block_weight\l/block_weight.cpp" alt="" coords="1162,281,1293,322"/>
<area shape="rect" id="node12" href="../../d8/d5c/long__term__block__weight_8cpp.html" title="tests/unit_tests/long\l_term_block_weight.cpp" alt="" coords="975,281,1138,322"/>
<area shape="rect" id="node14" href="../../dd/d8d/scaling__2021_8cpp.html" title="tests/unit_tests/scaling\l_2021.cpp" alt="" coords="794,281,951,322"/>
<area shape="rect" id="node20" href="../../d9/d30/blocksdat__file_8cpp.html" title="src/blockchain_utilities\l/blocksdat_file.cpp" alt="" coords="5274,281,5429,322"/>
<area shape="rect" id="node27" href="../../df/d35/cryptonote__core_8h.html" title="src/cryptonote_core\l/cryptonote_core.h" alt="" coords="2353,177,2491,218"/>
<area shape="rect" id="node28" href="../../da/d0e/blockchain__import_8cpp.html" title="src/blockchain_utilities\l/blockchain_import.cpp" alt="" coords="4745,281,4901,322"/>
<area shape="rect" id="node30" href="../../d9/dfa/cryptonote__protocol__handler-base_8cpp.html" title="This is the place to implement our handlers for protocol network actions, e.g. for ratelimit for down..." alt="" coords="2041,273,2230,329"/>
<area shape="rect" id="node31" href="../../d5/dc4/core_8h.html" title="src/daemon/core.h" alt="" coords="2254,288,2385,315"/>
<area shape="rect" id="node32" href="../../d2/d66/src_2daemon_2main_8cpp.html" title="src/daemon/main.cpp" alt="" coords="2410,377,2557,404"/>
<area shape="rect" id="node33" href="../../de/d12/rpc__command__executor_8cpp.html" title="src/daemon/rpc_command\l_executor.cpp" alt="" coords="2654,281,2830,322"/>
<area shape="rect" id="node34" href="../../d0/d63/windows__daemonizer_8inl.html" title="src/daemonizer/windows\l_daemonizer.inl" alt="" coords="2855,281,3021,322"/>
<area shape="rect" id="node35" href="../../df/d90/net__node_8cpp.html" title="src/p2p/net_node.cpp" alt="" coords="3046,288,3193,315"/>
<area shape="rect" id="node36" href="../../d2/d65/net__node_8inl.html" title="src/p2p/net_node.inl" alt="" coords="3217,288,3355,315"/>
<area shape="rect" id="node37" href="../../db/da6/bootstrap__daemon_8cpp.html" title="src/rpc/bootstrap_daemon.cpp" alt="" coords="3380,288,3579,315"/>
<area shape="rect" id="node38" href="../../d8/dd6/core__rpc__server_8h.html" title="src/rpc/core_rpc_server.h" alt="" coords="2459,288,2630,315"/>
<area shape="rect" id="node39" href="../../da/dd7/daemon__handler_8h.html" title="src/rpc/daemon_handler.h" alt="" coords="3653,288,3825,315"/>
<area shape="rect" id="node40" href="../../df/d2e/daemon__handler_8cpp.html" title="src/rpc/daemon_handler.cpp" alt="" coords="3583,377,3770,404"/>
<area shape="rect" id="node41" href="../../dc/deb/rpc__handler_8cpp.html" title="src/rpc/rpc_handler.cpp" alt="" coords="1857,288,2016,315"/>
<area shape="rect" id="node44" href="../../da/da8/bootstrap__file_8h.html" title="src/blockchain_utilities\l/bootstrap_file.h" alt="" coords="4670,177,4825,218"/>
<area shape="rect" id="node45" href="../../d9/ddc/cryptonote__tx__utils_8cpp.html" title="src/cryptonote_core\l/cryptonote_tx_utils.cpp" alt="" coords="3523,177,3684,218"/>
<area shape="rect" id="node46" href="../../d2/d63/tx__sanity__check_8cpp.html" title="src/cryptonote_core\l/tx_sanity_check.cpp" alt="" coords="3709,177,3855,218"/>
<area shape="rect" id="node47" href="../../d9/d46/tx__verification__utils_8cpp.html" title="src/cryptonote_core\l/tx_verification_utils.cpp" alt="" coords="3879,177,4042,218"/>
<area shape="rect" id="node48" href="../../dc/db1/cn__deserialize_8cpp.html" title="src/debug_utilities\l/cn_deserialize.cpp" alt="" coords="2921,177,3056,218"/>
<area shape="rect" id="node49" href="../../db/dcf/fee_8cpp.html" title="tests/unit_tests/fee.cpp" alt="" coords="3080,184,3239,211"/>
<area shape="rect" id="node50" href="../../d0/d34/ver__rct__non__semantics__simple__cached_8cpp.html" title="tests/unit_tests/ver\l_rct_non_semantics_simple\l_cached.cpp" alt="" coords="3263,169,3447,225"/>
</map>
</div>
</div>
<p><a href="../../d9/d5c/blockchain__db_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d50/structcryptonote_1_1output__data__t.html">cryptonote::output_data_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">a struct containing output metadata  <a href="../../d9/d50/structcryptonote_1_1output__data__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d4f/structcryptonote_1_1tx__data__t.html">cryptonote::tx_data_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d21/structcryptonote_1_1alt__block__data__t.html">cryptonote::alt_block_data_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d35/structcryptonote_1_1txpool__tx__meta__t.html">cryptonote::txpool_tx_meta_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">a struct containing txpool per transaction metadata  <a href="../../d4/d35/structcryptonote_1_1txpool__tx__meta__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/de3/classcryptonote_1_1DB__EXCEPTION.html">cryptonote::DB_EXCEPTION</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base class for <a class="el" href="../../de/db3/classcryptonote_1_1BlockchainDB.html" title="The BlockchainDB backing store interface declaration/contract. ">BlockchainDB</a> exceptions.  <a href="../../d5/de3/classcryptonote_1_1DB__EXCEPTION.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8d/classcryptonote_1_1DB__ERROR.html">cryptonote::DB_ERROR</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A generic <a class="el" href="../../de/db3/classcryptonote_1_1BlockchainDB.html" title="The BlockchainDB backing store interface declaration/contract. ">BlockchainDB</a> exception.  <a href="../../d4/d8d/classcryptonote_1_1DB__ERROR.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd3/classcryptonote_1_1DB__ERROR__TXN__START.html">cryptonote::DB_ERROR_TXN_START</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when there is an error starting a DB transaction  <a href="../../dd/dd3/classcryptonote_1_1DB__ERROR__TXN__START.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dca/classcryptonote_1_1DB__OPEN__FAILURE.html">cryptonote::DB_OPEN_FAILURE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when opening the <a class="el" href="../../de/db3/classcryptonote_1_1BlockchainDB.html" title="The BlockchainDB backing store interface declaration/contract. ">BlockchainDB</a> fails  <a href="../../d1/dca/classcryptonote_1_1DB__OPEN__FAILURE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de7/classcryptonote_1_1DB__CREATE__FAILURE.html">cryptonote::DB_CREATE_FAILURE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when creating the <a class="el" href="../../de/db3/classcryptonote_1_1BlockchainDB.html" title="The BlockchainDB backing store interface declaration/contract. ">BlockchainDB</a> fails  <a href="../../d6/de7/classcryptonote_1_1DB__CREATE__FAILURE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d9e/classcryptonote_1_1DB__SYNC__FAILURE.html">cryptonote::DB_SYNC_FAILURE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when synchronizing the <a class="el" href="../../de/db3/classcryptonote_1_1BlockchainDB.html" title="The BlockchainDB backing store interface declaration/contract. ">BlockchainDB</a> to disk fails  <a href="../../df/d9e/classcryptonote_1_1DB__SYNC__FAILURE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4a/classcryptonote_1_1BLOCK__DNE.html">cryptonote::BLOCK_DNE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when a requested block does not exist  <a href="../../d6/d4a/classcryptonote_1_1BLOCK__DNE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d83/classcryptonote_1_1BLOCK__PARENT__DNE.html">cryptonote::BLOCK_PARENT_DNE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when a block's parent does not exist (and it needed to)  <a href="../../d1/d83/classcryptonote_1_1BLOCK__PARENT__DNE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8e/classcryptonote_1_1BLOCK__EXISTS.html">cryptonote::BLOCK_EXISTS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when a block exists, but shouldn't, namely when adding a block  <a href="../../d1/d8e/classcryptonote_1_1BLOCK__EXISTS.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/classcryptonote_1_1BLOCK__INVALID.html">cryptonote::BLOCK_INVALID</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when something is wrong with the block to be added  <a href="../../d6/d3c/classcryptonote_1_1BLOCK__INVALID.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7d/classcryptonote_1_1TX__DNE.html">cryptonote::TX_DNE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when a requested transaction does not exist  <a href="../../dc/d7d/classcryptonote_1_1TX__DNE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d0d/classcryptonote_1_1TX__EXISTS.html">cryptonote::TX_EXISTS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when a transaction exists, but shouldn't, namely when adding a block  <a href="../../d2/d0d/classcryptonote_1_1TX__EXISTS.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dca/classcryptonote_1_1OUTPUT__DNE.html">cryptonote::OUTPUT_DNE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when a requested output does not exist  <a href="../../d4/dca/classcryptonote_1_1OUTPUT__DNE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d00/classcryptonote_1_1OUTPUT__EXISTS.html">cryptonote::OUTPUT_EXISTS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when an output exists, but shouldn't, namely when adding a block  <a href="../../d9/d00/classcryptonote_1_1OUTPUT__EXISTS.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d63/classcryptonote_1_1KEY__IMAGE__EXISTS.html">cryptonote::KEY_IMAGE_EXISTS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">thrown when a spent key image exists, but shouldn't, namely when adding a block  <a href="../../d3/d63/classcryptonote_1_1KEY__IMAGE__EXISTS.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db3/classcryptonote_1_1BlockchainDB.html">cryptonote::BlockchainDB</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="../../de/db3/classcryptonote_1_1BlockchainDB.html" title="The BlockchainDB backing store interface declaration/contract. ">BlockchainDB</a> backing store interface declaration/contract.  <a href="../../de/db3/classcryptonote_1_1BlockchainDB.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8a/classcryptonote_1_1db__txn__guard.html">cryptonote::db_txn_guard</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/df6/classcryptonote_1_1db__rtxn__guard.html">cryptonote::db_rtxn_guard</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d60/classcryptonote_1_1db__wtxn__guard.html">cryptonote::db_wtxn_guard</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:df/d43/namespacecryptonote"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/namespacecryptonote.html">cryptonote</a></td></tr>
<tr class="memdesc:df/d43/namespacecryptonote"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds cryptonote related classes and helpers. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a69742ef958d58fa6fd1e743a6dbfe601"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5c/blockchain__db_8h.html#a69742ef958d58fa6fd1e743a6dbfe601">DBF_SAFE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a69742ef958d58fa6fd1e743a6dbfe601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2e91f7144d76fea945c425df1ca868"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5c/blockchain__db_8h.html#abb2e91f7144d76fea945c425df1ca868">DBF_FAST</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:abb2e91f7144d76fea945c425df1ca868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd5c595dd2ae762bcc240b3f8100f218"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5c/blockchain__db_8h.html#abd5c595dd2ae762bcc240b3f8100f218">DBF_FASTEST</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:abd5c595dd2ae762bcc240b3f8100f218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff98992aedd6407e1e97866cb24ed07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5c/blockchain__db_8h.html#a4ff98992aedd6407e1e97866cb24ed07">DBF_RDONLY</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a4ff98992aedd6407e1e97866cb24ed07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6fd6282ddf27bd179a235f06b51209e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d5c/blockchain__db_8h.html#ae6fd6282ddf27bd179a235f06b51209e">DBF_SALVAGE</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:ae6fd6282ddf27bd179a235f06b51209e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab982387d5cfb1211fdef0fd7e5fb1266"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; <a class="el" href="../../de/d36/namespacecrypto.html#adadec1379c607896bfcf795e65fe2d91">crypto::hash</a>, <a class="el" href="../../df/dd8/stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/namespacecryptonote.html#ab982387d5cfb1211fdef0fd7e5fb1266">cryptonote::tx_out_index</a></td></tr>
<tr class="separator:ab982387d5cfb1211fdef0fd7e5fb1266"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5427758fe058f0d303d70177f969cb0d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/namespacecryptonote.html#a5427758fe058f0d303d70177f969cb0d">cryptonote::relay_category</a> : uint8_t { <a class="el" href="../../df/d43/namespacecryptonote.html#a5427758fe058f0d303d70177f969cb0dae2b42628e57b0f2cd4772d73cdcbf1ca">cryptonote::relay_category::broadcasted</a> = 0, 
<a class="el" href="../../df/d43/namespacecryptonote.html#a5427758fe058f0d303d70177f969cb0da26f6968e4a2fccbdaac528f4bf79cc45">cryptonote::relay_category::relayable</a>, 
<a class="el" href="../../df/d43/namespacecryptonote.html#a5427758fe058f0d303d70177f969cb0da228c70bfc5589c58c044e03fff0e17eb">cryptonote::relay_category::legacy</a>, 
<a class="el" href="../../df/d43/namespacecryptonote.html#a5427758fe058f0d303d70177f969cb0daa181a603769c1f98ad927e7367c7aa51">cryptonote::relay_category::all</a>
 }</td></tr>
<tr class="separator:a5427758fe058f0d303d70177f969cb0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab302a8cee3c62dfc9c78639a5353fc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d5e/stdbool_8h.html#a1062901a7428fdd9c7f180f5e01ea056">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/namespacecryptonote.html#aab302a8cee3c62dfc9c78639a5353fc3">cryptonote::matches_category</a> (relay_method method, relay_category category) noexcept</td></tr>
<tr class="separator:aab302a8cee3c62dfc9c78639a5353fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb94757810eb3512b1ccf0dd9d0aa56"><td class="memItemLeft" align="right" valign="top">BlockchainDB *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/namespacecryptonote.html#a8eb94757810eb3512b1ccf0dd9d0aa56">cryptonote::new_db</a> ()</td></tr>
<tr class="separator:a8eb94757810eb3512b1ccf0dd9d0aa56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Cryptonote Blockchain Database <a class="el" href="../../d0/dcc/classInterface.html">Interface</a></p>
<p>The DB interface is a store for the canonical block chain. It serves as a persistent storage for the blockchain.</p>
<p>For the sake of efficiency, a concrete implementation may also store some blockchain data outside of the blocks, such as spent transfer key images, unspent transaction outputs, etc.</p>
<p>Examples are as follows:</p>
<p>Transactions are duplicated so that we don't have to fetch a whole block in order to fetch a transaction from that block.</p>
<p>Spent key images are duplicated outside of the blocks so it is quick to verify an output hasn't already been spent</p>
<p>Unspent transaction outputs are duplicated to quickly gather random outputs to use for mixins</p>
<p>Indices and Identifiers: The word "index" is used ambiguously throughout this code. It is particularly confusing when talking about the output or transaction tables since their indexing can refer to themselves or each other. I have attempted to clarify these usages here:</p>
<p>Blocks, transactions, and outputs are all identified by a hash. For storage efficiency, a 64-bit integer ID is used instead of the hash inside the DB. Tables exist to map between hash and ID. A block ID is also referred to as its "height". Transactions and outputs generally are not referred to by ID outside of this module, but the tx ID is returned by tx_exists() and used by get_tx_amount_output_indices(). Like their corresponding hashes, IDs are globally unique.</p>
<p>The remaining uses of the word "index" refer to local offsets, and are not globally unique. An "amount output index" N refers to the Nth output of a specific amount. An "output local index" N refers to the Nth output of a specific tx.</p>
<p>Exceptions: DB_ERROR &ndash; generic DB_OPEN_FAILURE DB_CREATE_FAILURE DB_SYNC_FAILURE BLOCK_DNE BLOCK_PARENT_DNE BLOCK_EXISTS BLOCK_INVALID &ndash; considering making this multiple errors TX_DNE TX_EXISTS OUTPUT_DNE OUTPUT_EXISTS KEY_IMAGE_EXISTS </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="abb2e91f7144d76fea945c425df1ca868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb2e91f7144d76fea945c425df1ca868">&#9670;&nbsp;</a></span>DBF_FAST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBF_FAST&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abd5c595dd2ae762bcc240b3f8100f218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd5c595dd2ae762bcc240b3f8100f218">&#9670;&nbsp;</a></span>DBF_FASTEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBF_FASTEST&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ff98992aedd6407e1e97866cb24ed07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff98992aedd6407e1e97866cb24ed07">&#9670;&nbsp;</a></span>DBF_RDONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBF_RDONLY&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a69742ef958d58fa6fd1e743a6dbfe601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69742ef958d58fa6fd1e743a6dbfe601">&#9670;&nbsp;</a></span>DBF_SAFE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBF_SAFE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae6fd6282ddf27bd179a235f06b51209e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6fd6282ddf27bd179a235f06b51209e">&#9670;&nbsp;</a></span>DBF_SALVAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBF_SALVAGE&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 2 2023 19:23:32 for Monero by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
